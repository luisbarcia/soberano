{{/* layouts/_markup/render-link.html */}}
{{/* Render hook for Markdown links: [text](url "title")                   */}}
{{/* External links open in new tab with noopener noreferrer.              */}}
{{/* Internal links render normally.                                        */}}

{{ $url := .Destination }}
{{ $isExternal := or (hasPrefix $url "http://") (hasPrefix $url "https://") (hasPrefix $url "//") }}

<a href="{{ $url | safeURL }}"
  {{- if $isExternal }} target="_blank" rel="noopener noreferrer"{{ end -}}
  {{- with .Title }} title="{{ . }}"{{ end -}}
>{{ .Text | safeHTML }}</a>
